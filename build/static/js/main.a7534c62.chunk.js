(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{209:function(e,t,a){e.exports=a(381)},214:function(e,t,a){},215:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),o=a.n(l),s=(a(214),a(215),a(9)),c=a.n(s),i=a(20),m=a(402),u=a(404),p=a(406),d=a(69),E=a(16),g=a.n(E),h=a(46),f=a(382).v4,b=function(e,t,a){var n=f;a({type:"SET_ALERT",payload:{msg:e,alertType:t,id:n}}),setTimeout((function(){a({type:"REMOVE_ALERT",payload:{id:n}})}),5e3)},v=function(e){console.log("token received"),e?(g.a.defaults.headers.common["x-auth-token"]=e,console.log("token set")):delete g.a.defaults.headers.common["x-auth-token"]},y=function(){var e=Object(i.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/auth",a);case 3:n=e.sent,t({type:"LOGIN_SUCCESS",payload:n.data.token}),v(n.data.token),b("login success","success",t),k(t,n.data.token),a.remember&&localStorage.setItem("token",n.data.token),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.response.data),b("Incorrect Credentials","error",t);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}(),w=function(){var e=Object(i.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("register attempt"),e.next=4,g.a.post("/api/user",a);case 4:n=e.sent,a.remember&&localStorage.setItem("token",n.data.token),v(n.data.token),b("Registered successfully, please verify your account by clicking on the link sent to your registered email account","success",t),t({type:"REGISTER_SUCCESS",payload:n.data.token}),k(t,n.data.token),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.response.data),b("User Already Exists","error",t);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(i.a)(c.a.mark((function e(t,a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(a),e.next=4,g.a.get("/api/auth");case 4:n=e.sent,t({type:"LOADUSER_SUCCESS",payload:n.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),localStorage.removeItem("token");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),N=a(36),O={labelCol:{span:8},wrapperCol:{span:16}},j=Object(h.b)((function(e){return{state:e}}),(function(e){return{onLogin:function(t){y(e,t)}}}))((function(e){return r.a.createElement("div",{className:"auth-form"},r.a.createElement("div",{className:"lan"},r.a.createElement("div",{className:"auth-header"}," ",r.a.createElement("h1",{className:"auth-header-heading"},"Login!")," ")),r.a.createElement("div",{className:"landing-description"},r.a.createElement("div",{className:"auth-form-container"},r.a.createElement(m.a,Object.assign({},O,{name:"basic",initialValues:{remember:!0},onFinish:function(t){e.onLogin(t)},onFinishFailed:function(e){}}),r.a.createElement(m.a.Item,{label:"email",name:"email",rules:[{required:!0,message:"Please input your Email!"}]},r.a.createElement(u.a,{className:"auth-form-input"})),r.a.createElement(m.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(u.a.Password,{className:"auth-form-input"})),r.a.createElement("div",{className:"form-button"},r.a.createElement(m.a.Item,{name:"remember",valuePropName:"checked"},r.a.createElement(p.a,null,"Remember me")),r.a.createElement(m.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",block:!0},"Submit"),r.a.createElement(N.b,{to:"/forgot-password"},"ForgotPassword?")))))),"  ")})),x=a(11),S=a(38),C=a(28),L=a(400),R=a(403),T=a(405);var P=function(){var e=Object(i.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put("/api/user/",t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=r.a.useState({previewVisible:!1,previewImage:"",previewTitle:"",fileList:[],initialLoad:!0}),a=Object(S.a)(t,2),n=a[0],l=a[1];if(console.log(e.state),!0===e.state.submit){console.log("Submit requested");var o={};o.username=e.state.name,o.email=e.state.email,o.password=e.state.password,o.image=n.fileList.map((function(e){return console.log(e.thumbUrl),e.thumbUrl})),console.log(o),!1===e.state.edit?e.onRegister(o):(console.log("edit Account"),P(o)),e.state.submit=!1}e.state.edit&&n.initialLoad&&l({fileList:[{thumbUrl:e.state.thumbUrl,type:"image/jpeg",status:"done",name:"profile.jpg",percent:100,uid:"rc-upload-1604828000243-4"}]});var s=n.previewVisible,c=n.previewImage,i=n.fileList,m=n.previewTitle,u=r.a.createElement("div",null,r.a.createElement(T.a,null),r.a.createElement("div",{style:{marginTop:8}},"Upload"));return console.log(n),r.a.createElement("div",null,r.a.createElement(L.a,{multiple:!1,listType:"picture-card",fileList:n.fileList,onPreview:function(e){var t=new Image;t.src=e.thumbUrl,window.open("").document.write(t.outerHTML)},onChange:function(e){var t=e.fileList;t.map((function(e){e.status="done"})),l({fileList:t})}},i.length>=1?null:u),r.a.createElement(R.a,{visible:s,title:m,footer:null,onCancel:function(){return l({previewVisible:!1})}},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:c})))},I={labelCol:{span:8},wrapperCol:{span:16}},q={wrapperCol:{offset:8,span:16}},F=Object(h.b)((function(e){return{state:e}}),(function(e){return{onRegister:function(t){w(e,t)}}}))((function(e){var t=r.a.useState({submit:!1,edit:!1}),a=Object(S.a)(t,2),n=a[0],l=a[1];return r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Make a new account"),r.a.createElement("meta",{name:"description",content:"Make a new covidHelp account"}),r.a.createElement("meta",{name:"keywords",content:"make new covid help covidhelp account"})),r.a.createElement("div",{className:"auth-form"},r.a.createElement("div",{className:"auth-header"}," ",r.a.createElement("h1",{className:"auth-header-heading heading-secondary"}," Register!")," "),r.a.createElement("div",{className:"landing-description"},r.a.createElement("div",{className:"auth-form-container"},r.a.createElement(m.a,Object.assign({},I,{name:"basic",initialValues:{remember:!0},onFinish:function(e){l(Object(x.a)(Object(x.a)({},e),{},{submit:!0,edit:!1}))},onFinishFailed:function(e){}}),r.a.createElement(m.a.Item,{label:"name",name:"name",rules:[{required:!0,message:"Please Enter Your Name"}]},r.a.createElement(u.a,null)),r.a.createElement(m.a.Item,{label:"email",name:"email",rules:[{required:!0,type:"email",message:"Please type a correct email!"}]},r.a.createElement(u.a,null)),r.a.createElement(m.a.Item,{label:"image",name:"image"},r.a.createElement(A,{onRegister:e.onRegister,state:n})),r.a.createElement(m.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(u.a.Password,null)),r.a.createElement("div",{className:"form-button"},r.a.createElement(m.a.Item,Object.assign({},q,{name:"remember",valuePropName:"checked"}),r.a.createElement(p.a,null,"Remember me")),r.a.createElement(m.a.Item,q,r.a.createElement(d.a,{type:"primary",htmlType:"submit",block:!0},"Submit"))))))," "))})),_=a(129),M=a(130),B=a(134),H=a(133),U=(a(172),a(202)),D=a(407),V=a(398),W=(V.a.Header,V.a.Footer,V.a.Sider,V.a.Content,D.a.SubMenu,function(e){Object(B.a)(a,e);var t=Object(H.a)(a);function a(e){var n;return Object(_.a)(this,a),(n=t.call(this,e)).state={current:"",redirect:!1,path:""},n.handleClick=function(e){"/logout"===e.target.id?(localStorage.removeItem("token"),window.location.reload()):window.location.assign(e.target.id)},n}return Object(M.a)(a,[{key:"render",value:function(){var e;this.state.current;return!0===this.props.state.isLoaded&&(e=this.props.state.user.user.image[0],console.log(e)),r.a.createElement("div",{className:"nav"},r.a.createElement("input",{type:"checkbox",className:"nav-check",id:"nav"}),r.a.createElement("label",{htmlFor:"nav",className:"nav-background"}),r.a.createElement("label",{htmlFor:"nav",className:"nav-button"},"Menu"),r.a.createElement("div",{className:"nav-bar"},r.a.createElement("ul",{className:"nav-bar-list"},r.a.createElement("li",{className:"nav-bar-list-item",onClick:this.handleClick,id:"/"},"Home"),r.a.createElement("li",{className:"nav-bar-list-item",onClick:this.handleClick,id:"/post"},"Create New Form"),r.a.createElement("li",{className:"nav-bar-list-item",onClick:this.handleClick,id:"/profile"},"My Surveys"),r.a.createElement("li",{className:"nav-bar-list-item",onClick:this.handleClick,id:"/edit-profile"},"Edit Profile"),r.a.createElement("li",{className:"nav-bar-list-item",onClick:this.handleClick,id:"/logout"}," Log out"))),r.a.createElement("label",{htmlFor:"nav",className:"nav-button"},"Menu"),r.a.createElement("label",{htmlFor:"nav",className:"nav-close"},r.a.createElement(U.a,null)))}}]),a}(r.a.Component)),Y=a(39),z=a(49);var G=Object(h.b)((function(e){return{state:e}}),(function(e){return{onLogin:function(t){y(e,t)}}}))((function(e){var t=r.a.useState({post:{questions:[],title:"",description:"",submit:!1,link:""}}),a=Object(S.a)(t,2),n=a[0],l=a[1];if(e.state.user.user.isVerified){console.log(window.location.hostname);var o=function(){var e=Object(i.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g.a.post("/api/post",{title:n.title,description:n.description,questions:n.post.questions});case 4:a=e.sent,console.log(a.data),l(Object(x.a)(Object(x.a)({},n),{},{submit:!0,link:"http://localhost:3000/posts/".concat(a.data.post._id)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return console.log(n),r.a.createElement("div",null,r.a.createElement("div",{className:"create"},r.a.createElement("div",{className:"create-title"}," ",r.a.createElement("h1",{className:"create-title-heading"},"Make a new post")," ")),r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Make a new Survey")),n.submit?r.a.createElement("div",{className:"create-submit"}," ",r.a.createElement("div",{className:"create-submit-container"},r.a.createElement("h1",{className:"heading-secondary"},"Here's a link to your survey:")," ",r.a.createElement("a",{className:"create-link",href:n.link}," ",n.link),"  ")):r.a.createElement("form",{onSubmit:o,className:"create-form"},r.a.createElement("div",{className:"create-form-container"},r.a.createElement("input",{type:"text",name:"title",className:"create-form-title",onChange:function(e){return l(Object(x.a)(Object(x.a)({},n),{},{title:e.target.value}))},id:"title",placeholder:"title",required:!0})," ",r.a.createElement("label",{htmlFor:"title",className:"label"}),r.a.createElement("input",{type:"text",name:"description",onChange:function(e){return l(Object(x.a)(Object(x.a)({},n),{},{description:e.target.value}))},className:"create-form-description",id:"description",placeholder:"description",required:!0})," ",r.a.createElement("label",{htmlFor:"title",className:"label"}),n.post.questions.map((function(e){return r.a.createElement("div",{className:"create-form-question-formation-group"},r.a.createElement("input",{className:"create-form-question-formation-group-input",placeholder:e.title,onChange:function(t){var a=[];n.post.questions.forEach((function(n){n.id===e.id?(e.title=t.target.value,console.log(t.target.value),a.push(e)):a.push(n)})),l(Object(x.a)(Object(x.a)({},n),{},{post:Object(x.a)(Object(x.a)({},n.post),{},{questions:a})}))},type:"text"}),r.a.createElement("select",{className:"create-form-question-formation-group-input-select",onChange:function(t){var a=[];n.post.questions.forEach((function(n){n.id===e.id?(e.type=t.target.value,console.log(t.target.value),a.push(e)):a.push(n)})),l(Object(x.a)(Object(x.a)({},n),{},{post:Object(x.a)(Object(x.a)({},n.post),{},{questions:a})}))}},r.a.createElement("option",{value:"number"},"Number"),r.a.createElement("option",{value:"text",selected:!0},"text"),r.a.createElement("option",{value:"date"},"date"),r.a.createElement("option",{value:"email"},"email"),r.a.createElement("option",{value:"url"},"Url"),r.a.createElement("option",{value:"tel"},"Phone Number"),r.a.createElement("option",{value:"color"},"color")))})),r.a.createElement("br",null),r.a.createElement("a",{href:"#",className:"button button-green",onClick:function(){l(Object(x.a)(Object(x.a)({},n),{},{post:Object(x.a)(Object(x.a)({},n.post),{},{questions:[].concat(Object(z.a)(n.post.questions),[{id:n.post.questions.length,title:"Question's title",type:"text"}])})}))}},"New Question"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"button button-orange "},"Submit"))))}return r.a.createElement("div",null,r.a.createElement("div",{style:{margin:"20% 30%"}},r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Post a new submission")),r.a.createElement("h1",null,"Your Account Is Not Verified, please verify your account by going to the link that has been mailed to your email id"),r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement(N.b,{to:"/"},"Go to Home ")," ",r.a.createElement("br",null),r.a.createElement(d.a,{type:"primary",block:!0,onClick:Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/api/auth/resend/"+e.state.user.user._id);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}," Resend Email"),r.a.createElement("br",null),r.a.createElement(N.b,{to:"/post"},"Refresh"))))})),J=a(408),Q=function(e){return r.a.createElement("div",null,e.message?r.a.createElement(J.a,{message:e.message,type:e.type,closable:!0}):null)},$=a(401),K=(a(173),$.a.Meta),X=function(e){var t=e.state.user.user.image[0],a=r.a.useState([]),n=Object(S.a)(a,2),l=n[0],o=n[1],s=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/post");case 3:return t=e.sent,a=t,console.log(a.data),o(a.data.msg),e.abrupt("return",a.data.msg);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response),o(null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return null!==l&&l.length<1&&s(),console.log(l),r.a.createElement("div",{className:"profile",style:{textAlign:"center"}},r.a.createElement("div",{style:{backgroundColor:"#9CEC88",paddingTop:"3%",paddingBottom:"2%"}},r.a.createElement("img",{src:t,style:{width:"20%",height:"20%",display:"inline-block",marginBottom:"2%"}}),r.a.createElement("div",{className:"name",style:{display:"block"}},r.a.createElement("h1",null,e.state.user.user.userName))),r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"My Profile")),r.a.createElement("div",{style:{backgroundColor:"#00B880",paddingTop:"3%",paddingBottom:"3%",textAlign:"center"}},r.a.createElement("h1",null,"My Posts"),r.a.createElement("br",null),r.a.createElement("br",null),l?r.a.createElement("div",null,l.map((function(e){var t="posts/"+e._id;return r.a.createElement("div",{style:{marginLeft:"22%"}},r.a.createElement(N.b,{to:t},r.a.createElement($.a,{hoverable:!0,cover:r.a.createElement("img",{src:e.images[0]}),style:{width:"70%"}},r.a.createElement(K,{title:e.title,description:e.description}))),r.a.createElement("br",null))}))):r.a.createElement("h2",{style:{fontSize:"100%"}},"You haven't made any posts yet")),r.a.createElement("div",{style:{backgroundColor:"#B6AE17",paddingTop:"5%",paddingBottom:"5%",textAlign:"center"}},r.a.createElement(d.a,{type:"primary",size:"large"},r.a.createElement(N.b,{to:"/post"},"Make a New Post"))))},Z=a(399),ee=a(131),te=a(96),ae=u.a.Search,ne=$.a.Meta,re=function(e){r.a.createRef();var t=r.a.useState({keepLoading:!0,posts:[],initialLoad:!1}),a=Object(S.a)(t,2),n=a[0],l=a[1],o=function(){var e=Object(i.a)(c.a.mark((function e(t,a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/post/infinite",{from:a,to:t});case 2:0===(r=e.sent).data.msg.length||(8===r.data.msg.length?(s=!0,l(Object(x.a)(Object(x.a)({},n),{},{posts:[].concat(Object(z.a)(n.posts),Object(z.a)(r.data.msg)),initialLoad:!0}))):l(Object(x.a)(Object(x.a)({},n),{},{posts:[].concat(Object(z.a)(n.posts),Object(z.a)(r.data.msg)),initialLoad:!0,keepLoading:!1})));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s=!0;!1===n.keepLoading&&(s=!1);var m=function(){n.keepLoading&&s&&(console.log("actually loading"),s=!1,o(n.posts.length+8,n.posts.length))};0===n.posts.length&&o(8,0);return n.initialLoad?r.a.createElement("div",{className:"app"},r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"CovidHelp: Posts"),r.a.createElement("meta",{name:"description",content:"Latest CovidHelp Posts"}),r.a.createElement("meta",{name:"keywords",content:"covid 19 help people posts covidhelp donation donate charity"})),r.a.createElement("div",{className:"landing-top"},r.a.createElement("div",{className:"login-title"}," ",r.a.createElement("h1",null,"Latest Posts"),r.a.createElement(ae,{style:{margin:"0% 20%",width:"50%"},placeholder:"Search for a specific Post",enterButton:"Search",size:"large",onSearch:function(e){return window.location.href="/search/"+e}}))),r.a.createElement("div",{className:"posts",style:{textAlign:"center",marginTop:"5%",marginLeft:"10%",marginRight:"10%"}},r.a.createElement(te.Row,null,r.a.createElement(ee.a,{dataLength:n.posts.length,next:function(){return m()},hasMore:n.keepLoading,loader:r.a.createElement("div",{style:{marginTop:"10%",marginBottom:"10%",marginRight:"40%"}},r.a.createElement(Z.a,null)),endMessage:r.a.createElement("p",{style:{textAlign:"center",marginRight:""}},r.a.createElement("b",null,"You have seen all the posts on this site!")),refreshFunction:function(){l({keepLoading:!0,posts:[],initialLoad:!1})},pullDownToRefresh:!0,pullDownToRefreshThreshold:50,pullDownToRefreshContent:r.a.createElement("h3",{style:{textAlign:"center"}},"\u2193 Pull down to refresh"),releaseToRefreshContent:r.a.createElement("h3",{style:{textAlign:"center"}},"\u2191 Release to refresh")},n.posts.map((function(e){var t="/posts/"+e._id;return r.a.createElement(te.Col,{key:e._id,sm:1,md:2,lg:4},r.a.createElement("div",{key:e._id},r.a.createElement(N.b,{to:t},r.a.createElement("div",null,r.a.createElement($.a,{hoverable:!0,style:{width:"100%"},cover:r.a.createElement("img",{style:{height:"300px"},src:e.images[0]})},r.a.createElement(ne,{title:e.title,description:e.description})),r.a.createElement("br",null))),r.a.createElement("br",null))," ")})))))):r.a.createElement("div",{style:{margin:"20% 0%"}},r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"CovidHelp: Posts"),r.a.createElement("meta",{name:"description",content:"Latest CovidHelp Posts"}),r.a.createElement("meta",{name:"keywords",content:"covid 19 help people posts covidhelp donation donate charity"})),r.a.createElement(Z.a,null))},le=function(e){Object(B.a)(a,e);var t=Object(H.a)(a);function a(){return Object(_.a)(this,a),t.apply(this,arguments)}return Object(M.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"404! Page not found")),r.a.createElement("div",{style:{margin:"20% 30%"}},r.a.createElement("br",null),r.a.createElement("h1",null,"404 Page Not Found"),r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("br",null),r.a.createElement(N.b,{to:"/"},"Go to Home "))))}}]),a}(r.a.Component),oe=Object(h.b)((function(e){return{state:e}}))((function(e){return console.log(e.state),r.a.createElement("div",{className:"landing"},r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Surveys!"),r.a.createElement("meta",{name:"description",content:"Make free surveys!"}),r.a.createElement("meta",{name:"keywords",content:"Surveys free"})),r.a.createElement("header",null,r.a.createElement("div",{className:"landing-header"},r.a.createElement("div",{className:"landing-header-title"},r.a.createElement("h1",{className:"landing-header-title-heading"},"Make Surveys for Free!"),r.a.createElement("h3",{className:"landing-header-title-sub"},"Faster than the wind")),r.a.createElement("div",{className:"landing-header-video"},r.a.createElement("video",{loop:!0,muted:!0,autoPlay:!0,src:"https://raw.githubusercontent.com/TheHamsterDog/survey/main/build/landing-header-video.mp4",className:"landing-header-video-content"})))),r.a.createElement("main",null,r.a.createElement("section",{className:"landing-section-auth "},e.state.user.user?r.a.createElement("div",{className:"landing-auth-post"},r.a.createElement("a",{href:"/post",className:"button button-green"}," Make a form!")):r.a.createElement("div",{className:"landing-auth row"},r.a.createElement("div",{className:"landing-auth-login"},r.a.createElement("a",{href:"/login",className:"button button-orange"},"Login")),r.a.createElement("p",{className:"landing-auth-or"},"OR"),r.a.createElement("div",{className:"landing-auth-register"},r.a.createElement("a",{href:"/register",className:"button button-green"},"Register"))))))})),se={labelCol:{span:8},wrapperCol:{span:16}},ce={wrapperCol:{offset:8,span:16}},ie=Object(h.b)((function(e){return{state:e}}),(function(e){return{onLogin:function(t){y(e,t)},onAlert:function(t,a){b(t,a,e)}}}))((function(e){var t=function(){var t=Object(i.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a.email),t.next=3,g.a.post("/api/auth/forgotpassword",{email:a.email});case 3:e.onAlert("If an account with that email exists, we will send information on how you can recover your account","warning");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Forgot Password")),r.a.createElement("div",{className:"landing-top"},r.a.createElement("div",{className:"login-title"}," ",r.a.createElement("h1",null,"Forgot your password?")," ")),r.a.createElement("div",{className:"landing-description"},r.a.createElement("div",{className:"login-form"},r.a.createElement(m.a,Object.assign({},se,{name:"basic",initialValues:{remember:!0},onFinish:t,onFinishFailed:function(e){}}),r.a.createElement(m.a.Item,{label:"email",name:"email",rules:[{required:!0,message:"Please input your Email!"}]},r.a.createElement(u.a,null)),r.a.createElement("div",{className:"form-button"},r.a.createElement(m.a.Item,ce,r.a.createElement(d.a,{type:"primary",htmlType:"submit",block:!0},"Submit")))))),"  ")})),me=a(97),ue=a.n(me),pe=R.a.confirm,de=function(e){var t=Object(Y.g)().id;console.log(e);var a=r.a.useState({post:{},loaded:!1,error:!1,author:{},delete:!1,responses:[],submit:!1}),n=Object(S.a)(a,2),l=n[0],o=n[1],s=function(){var e=Object(i.a)(c.a.mark((function e(a){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log("===================================="),console.log(a),console.log("===================================="),e.prev=4,e.next=7,g.a.post("/api/post/respond/"+t,{responses:l.responses});case 7:n=e.sent,console.log(l.responses),o(Object(x.a)(Object(x.a)({},l),{},{submit:!0})),console.log(n.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t=e.target.name,a=e.target.value;if(console.log(l.responses),l.responses.length>=1){var n=[];n.push({question:t,answer:a}),l.responses.filter((function(e){console.log(e.question),console.log(t),e.question!==t&&n.push(e)})),console.log(n),o(Object(x.a)(Object(x.a)({},l),{},{responses:[].concat(n)})),console.log("===================================="),console.log(l.responses),console.log("====================================")}else o(Object(x.a)(Object(x.a)({},l),{},{responses:[{question:t,answer:a}]}))},u=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,r,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/post/"+a);case 3:return n=t.sent,console.log(n.data.msg),t.next=7,g.a.get("/api/user/"+n.data.msg.user);case 7:r=t.sent,console.log(r.data.msg),l=!1,void 0!==e.state.user.user&&(console.log("something"),r.data.msg._id.toString()===e.state.user.user._id.toString()&&(l=!0)),o({post:n.data.msg,loaded:!0,error:!1,user:r.data.msg,delete:l,responses:[]}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),o({post:{},loaded:!0,error:!0});case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}();return l.loaded||u(t),l.loaded?l.error?r.a.createElement(le,null):r.a.createElement("div",{className:"form"},r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,l.post.title),r.a.createElement("meta",{name:"description",content:l.post.description}),r.a.createElement("meta",{name:"keywords",content:l.post.description+" "+l.post.title+" "+l.post.author+" Covid Help CovidHelp"})),r.a.createElement("div",{className:"form-form"},r.a.createElement("form",{className:"form-form-container",onSubmit:s},r.a.createElement("div",{className:"form-title"},r.a.createElement("div",{className:"form-form-title-container"},r.a.createElement("h1",{className:"form-form-title"}," ",l.post.title),r.a.createElement("h1",{className:"form-form-description",id:"description"},l.post.description))),l.submit?r.a.createElement("div",{className:"form-form-question-formation-group"}," Your response has been recorded "):l.post.questions.map((function(e){return r.a.createElement("div",{className:"form-form-question-formation-group"},r.a.createElement("h1",{className:"form-form-question-formation-group-input"},e.title),r.a.createElement("input",{type:e.type,name:e.id,onChange:m,className:"form-question form-question-group-"+e.type}))})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"button button-orange "},"Submit")),l.delete?r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:" button-delete",onClick:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pe({title:"Do You Really Want To Delete This Post?",icon:r.a.createElement(ue.a,null),onOk:function(){return Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("/api/post/"+l.post._id);case 3:window.location.reload(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:console.log("yes");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},onCancel:function(){console.log("cancelled")}}));case 1:case"end":return e.stop()}}),e)})))},r.a.createElement(ue.a,null)),"   ",r.a.createElement("a",{type:"submit",href:l.post._id+"/responses",className:"button button-primary margin-top-2"},"See All of the responses you've received")):null,r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null))):r.a.createElement(Z.a,null)},Ee=$.a.Meta,ge=u.a.Search,he=function(e){r.a.createRef();var t=Object(Y.g)().search,a=r.a.useState({keepLoading:!0,posts:[],initialLoad:!1,notFound:!1}),n=Object(S.a)(a,2),l=n[0],o=n[1],s=function(){var e=Object(i.a)(c.a.mark((function e(a,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/post/search/"+t+"/"+a+"/"+n);case 3:0===(r=e.sent).data.msg.length||(8===r.data.msg.length?(m=!0,o(Object(x.a)(Object(x.a)({},l),{},{posts:[].concat(Object(z.a)(l.posts),Object(z.a)(r.data.msg)),initialLoad:!0}))):o(Object(x.a)(Object(x.a)({},l),{},{posts:[].concat(Object(z.a)(l.posts),Object(z.a)(r.data.msg)),initialLoad:!0,keepLoading:!1}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(Object(x.a)(Object(x.a)({},l),{},{notFound:!0,initialLoad:!0}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),m=!0;!1===l.keepLoading&&(m=!1);var u=function(){l.keepLoading&&m&&(console.log("actually loading"),m=!1,s(l.posts.length+8,l.posts.length))};l.initialLoad||s(8,0);return l.initialLoad?l.notFound?r.a.createElement("div",null,r.a.createElement("div",{style:{backgroundColor:"#B6AE17",paddingTop:"6%",paddingBottom:"6%",textAlign:"center"}},r.a.createElement("h2",null," Search For Posts"),r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"CovidHelp: ",t),r.a.createElement("meta",{name:"description",content:t}),r.a.createElement("meta",{name:"keywords",content:t})),r.a.createElement("br",null),r.a.createElement(ge,{style:{margin:"0% 20%",width:"50%"},placeholder:"input search text",enterButton:"Search",size:"large",onSearch:function(e){return window.location.href="/search/"+e}})),r.a.createElement(le,null)):r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"landing-top"},r.a.createElement("div",{style:{backgroundColor:"#B6AE17",paddingTop:"6%",paddingBottom:"6%",textAlign:"center"}},r.a.createElement("h1",{style:{textAlign:"center"}},"Your Search Results"),r.a.createElement("br",null),r.a.createElement(ge,{style:{margin:"0% 20%",width:"50%"},placeholder:"input search text",enterButton:"Search",size:"large",onSearch:function(e){return window.location.href="/search/"+e}}),r.a.createElement("br",null))),r.a.createElement("div",{className:"posts",style:{textAlign:"center",marginTop:"5%",marginLeft:"10%",marginRight:"10%"}},r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"CovidHelp: ",t),r.a.createElement("meta",{name:"description",content:t}),r.a.createElement("meta",{name:"keywords",content:t})),r.a.createElement(te.Row,null,r.a.createElement(ee.a,{dataLength:l.posts.length,next:function(){return u()},hasMore:l.keepLoading,loader:r.a.createElement("div",{style:{marginTop:"10%",marginBottom:"10%",marginRight:"40%"}},r.a.createElement(Z.a,null)),endMessage:r.a.createElement("p",{style:{textAlign:"center",marginRight:"50%"}},r.a.createElement("b",null,"You have seen all of the posts that match your criterion")),refreshFunction:function(){o({keepLoading:!0,posts:[],initialLoad:!1})},pullDownToRefresh:!0,pullDownToRefreshThreshold:50,pullDownToRefreshContent:r.a.createElement("h3",{style:{textAlign:"center"}},"\u2193 Pull down to refresh"),releaseToRefreshContent:r.a.createElement("h3",{style:{textAlign:"center"}},"\u2191 Release to refresh")},l.posts.map((function(e){var t="/posts/"+e._id;return r.a.createElement(te.Col,{key:e._id,sm:1,md:2,lg:4},r.a.createElement("div",{key:e._id},r.a.createElement(N.b,{to:t},r.a.createElement("div",null,r.a.createElement($.a,{hoverable:!0,style:{width:"100%"},cover:r.a.createElement("img",{style:{height:"300px"},src:e.images[0]})},r.a.createElement(Ee,{title:e.title,description:e.description})),r.a.createElement("br",null))),r.a.createElement("br",null)))}))),"   "))):r.a.createElement("div",{style:{margin:"20% 0%"}},r.a.createElement(Z.a,null))},fe=R.a.confirm,be=function(e){var t=Object(Y.g)().id;console.log(e);var a=r.a.useState({post:{},loaded:!1,error:!1,author:{},delete:!1,pg:1,responses:[]}),n=Object(S.a)(a,2),l=n[0],o=n[1],s=function(){var t=Object(i.a)(c.a.mark((function t(a){var n,r,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("/api/post/"+a);case 3:return n=t.sent,t.next=6,g.a.get("/api/user/"+n.data.msg.user);case 6:r=t.sent,console.log(n.data.msg.responses),l=!1,void 0!==e.state.user&&(console.log("something"),r.data.msg._id.toString()===e.state.user.user._id.toString()&&(l=!0)),o({post:n.data.msg,loaded:!0,error:!1,user:r.data.msg,delete:l,pg:1}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0),o({post:{},loaded:!0,error:!0});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}();return console.log("===================================="),console.log("===================================="),l.loaded||s(t),l.loaded?(console.log(l.post),console.log(l.post),console.log(l.post.responses[l.pg]),l.error?r.a.createElement(le,null):r.a.createElement("div",{className:"form"},r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,l.post.title),r.a.createElement("meta",{name:"description",content:l.post.description}),r.a.createElement("meta",{name:"keywords",content:l.post.description+" "+l.post.title+" "+l.post.author+" Covid Help CovidHelp"})),r.a.createElement("div",{className:"form-form"},r.a.createElement("div",{className:"form-form-container"},r.a.createElement("div",{className:"form-title"},r.a.createElement("div",{className:"form-form-title-container"},r.a.createElement("h1",{className:"form-form-title"}," ",l.post.title),r.a.createElement("h1",{className:"form-form-description",id:"description"},l.post.description),r.a.createElement("small",{className:"form-form-description-small"}," You Received ",l.post.responses.length,"  ",1===l.post.responses.length?"response":"responses"," "))),r.a.createElement("h2",{className:"form-form-description-small margin-top-4 margin-bottom-4 margin-left-4"}," Response ",l.post.responses.length>0?l.pg:0," of ",l.post.responses.length,"   "),l.post.responses.length>0?l.post.responses[l.pg-1].map((function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"form-form-question-formation-group"},r.a.createElement("h1",{className:"form-form-question-formation-group-input"},l.post.questions[e.question].title),r.a.createElement("p",{className:"form-question"},e.answer)))})):null,l.pg<l.post.responses.length?r.a.createElement("button",{className:"button button-orange margin-top-6 margin-right-4",onClick:function(){return o(Object(x.a)(Object(x.a)({},l),{},{pg:l.pg+1}))}}," Check out the next response"):null,l.pg>1?r.a.createElement("button",{className:"button button-green margin-top-6",onClick:function(){return o(Object(x.a)(Object(x.a)({},l),{},{pg:l.pg-1}))}}," Check out the previous response"):null),l.delete?r.a.createElement("button",{type:"button",className:" button-delete",onClick:Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fe({title:"Do You Really Want To Delete This Post?",icon:r.a.createElement(ue.a,null),onOk:function(){return Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("/api/post/"+l.post._id);case 3:window.location.reload(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:console.log("yes");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},onCancel:function(){console.log("cancelled")}}));case 1:case"end":return e.stop()}}),e)})))},r.a.createElement(ue.a,null)):null,r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)))):r.a.createElement(Z.a,null)},ve={labelCol:{span:8},wrapperCol:{span:16}},ye=Object(h.b)((function(e){return{state:e}}),(function(e){return{onRegister:function(t){w(e,t)}}}))((function(e){console.log(e.state.user.user.image[0]);var t=r.a.useState({submit:!1,edit:!0,thumbUrl:e.state.user.user.image[0]}),a=Object(S.a)(t,2),n=a[0],l=a[1];return r.a.createElement("div",{className:"auth-form"},r.a.createElement("div",{className:"landing-top"},r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Edit Your Profile")),r.a.createElement("div",{className:"auth-header"}," ",r.a.createElement("h1",{className:"auth-header-heading"},"Edit Your Profile!")," ")),r.a.createElement("div",{className:"landing-description"},r.a.createElement("div",{className:"auth-form-container"},r.a.createElement(m.a,Object.assign({},ve,{name:"basic",initialValues:{remember:!0},onFinish:function(e){l(Object(x.a)(Object(x.a)({},e),{},{submit:!0}))},onFinishFailed:function(e){}}),r.a.createElement(m.a.Item,{label:"name",name:"name",rules:[{required:!0}]},r.a.createElement(u.a,null)),r.a.createElement(m.a.Item,{label:"email",name:"email",rules:[{required:!0,type:"email",message:"Please type a correct email!"}]},r.a.createElement(u.a,null)),r.a.createElement(m.a.Item,{label:"image",name:"image"},r.a.createElement(A,{onRegister:e.onRegister,state:n})),r.a.createElement(m.a.Item,{label:"Password",name:"password"},r.a.createElement(u.a.Password,{placeholder:"If you leave this field empty, your password will not be changed"})),r.a.createElement("div",{className:"form-button"},r.a.createElement(m.a.Item,{name:"remember",valuePropName:"checked"},r.a.createElement(p.a,null,"Remember me")),r.a.createElement(m.a.Item,null,r.a.createElement(d.a,{type:"primary",htmlType:"submit",block:!0},"Submit"))))))," ")})),we=$.a.Meta,ke=function(e){var t=r.a.useState({posts:[],user:{},load:!0,error:!1}),a=Object(S.a)(t,2),n=a[0],l=a[1],o=Object(Y.g)().id,s=function(){var e=Object(i.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/user/"+o);case 3:return t=e.sent,e.next=6,g.a.get("/api/post/user/"+o);case 6:a=e.sent,a,n=t.data.msg,console.log(n),l({user:n,posts:Object(z.a)(a.data.msg),load:!1}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.response),l({user:null,error:!0,load:!1});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return n.load?(s(),console.log(n),r.a.createElement("div",{style:{margin:"20% 0"}},r.a.createElement(Z.a,null))):null===n.user?r.a.createElement("div",{style:{margin:"20% 0"}},r.a.createElement(le,null)):r.a.createElement("div",{className:"profile",style:{textAlign:"center"}},r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"CovidHelp: ",n.user.userName),r.a.createElement("meta",{name:"description",content:n.user.userName}),r.a.createElement("meta",{name:"keywords",content:n.user.userName+" "+n.user.name+" covid help covidhelp account"})),r.a.createElement("div",{style:{backgroundColor:"#9CEC88",paddingTop:"3%",paddingBottom:"2%"}},r.a.createElement("img",{src:n.user.image[0],style:{borderRadius:"100%",width:"25%",height:"25%",display:"inline-block",marginBottom:"2%"}}),r.a.createElement("div",{className:"name",style:{display:"block"}},r.a.createElement("h1",null,n.user.userName))),r.a.createElement("div",{style:{backgroundColor:"#00B880",paddingTop:"3%",paddingBottom:"3%",textAlign:"center"}},r.a.createElement("h1",null,n.user.userName+"'s "," Posts"),r.a.createElement("br",null),r.a.createElement("br",null),n.posts.length>0?r.a.createElement("div",null,n.posts.map((function(e){var t="/posts/"+e._id;return r.a.createElement("div",{style:{marginLeft:"37%",marginRight:"10%"}},r.a.createElement(N.b,{to:t},r.a.createElement($.a,{hoverable:!0,cover:r.a.createElement("img",{src:e.images[0]}),style:{width:"50%"}},r.a.createElement(we,{title:e.title,description:e.description}))),r.a.createElement("br",null))}))):r.a.createElement("h2",{style:{fontSize:"100%"}},"He haven't made any posts yet")),r.a.createElement("div",{style:{backgroundColor:"#B6AE17",paddingTop:"5%",paddingBottom:"5%",textAlign:"center"}},r.a.createElement(d.a,{type:"primary",size:"large"},r.a.createElement(N.b,{to:"/post"},"Make a New Post"))))},Ne={labelCol:{span:8},wrapperCol:{span:16}},Oe={wrapperCol:{offset:8,span:16}},je=Object(h.b)((function(e){return{state:e}}),(function(e){return{onLogin:function(t){y(e,t)},onAlert:function(t){b(t.msg,t.type,e)}}}))((function(e){var t=r.a.useState({real:!0,initial:!1}),a=Object(S.a)(t,2),n=a[0],l=a[1],o=Object(Y.g)().id,s=function(){var e=Object(i.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/auth/resetpassword/".concat(o));case 3:l({real:!0,initial:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l({real:!1,initial:!0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();!1===n.initial&&(console.log("Initial Load"),s());var E=function(){var t=Object(i.a)(c.a.mark((function t(a){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.post("/api/auth/resetpassword/".concat(o),{password:a.password});case 3:return n=t.sent,t.next=6,e.onLogin({email:n.data.email,password:a.password,remember:a.remember});case 6:e.onAlert({msg:"Your Password Has Been Reset, and you are now logged in"}),window.location.href="http://localhost:3000",t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.onAlert({msg:"Something Went Wrong",type:"danger"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}();return n.real?r.a.createElement("div",null,r.a.createElement("div",{className:"landing-top"},r.a.createElement(C.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Reset Your Password")),r.a.createElement("div",{className:"login-title"}," ",r.a.createElement("h1",null,"Reset your password!")," ")),r.a.createElement("div",{className:"landing-description"},r.a.createElement("div",{className:"login-form"},r.a.createElement(m.a,Object.assign({},Ne,{name:"basic",initialValues:{remember:!0},onFinish:E,onFinishFailed:function(e){}}),r.a.createElement(m.a.Item,{label:"New Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(u.a.Password,null)),r.a.createElement("div",{className:"form-button"},r.a.createElement(m.a.Item,Object.assign({},Oe,{name:"remember",valuePropName:"checked"}),r.a.createElement(p.a,null,"Remember me")),r.a.createElement(m.a.Item,Oe,r.a.createElement(d.a,{type:"primary",htmlType:"submit",block:!0},"Submit"))))))," "):r.a.createElement("div",null," ",r.a.createElement(le,null))}));var xe=Object(h.b)((function(e){return{state:e}}),(function(e){return{load:function(t){k(e,t)},setAlert:function(t,a){b(t,a,e)}}}))((function(e){if(!e.state.isLoaded&&localStorage.getItem("token")){var t=localStorage.getItem("token");e.load(t)}return e.state.isLoaded?r.a.createElement("div",{className:"App"},r.a.createElement(N.a,null,r.a.createElement(W,{state:e.state}),e.state.alerts.length>0?e.state.alerts.map((function(e){return console.log(e.msg),r.a.createElement(Q,{message:e.msg,type:e.alertType,key:e.id})})):null,r.a.createElement(Y.d,null,r.a.createElement(Y.b,{exact:!0,path:"/"},r.a.createElement(oe,null)),r.a.createElement(Y.b,{exact:!0,path:"/posts"}," ",r.a.createElement(re,null)),r.a.createElement(Y.b,{exact:!0,path:"/dashboard"},r.a.createElement("h1",null,"This is the dashboard")),r.a.createElement(Y.b,{exact:!0,path:"/profile"},r.a.createElement(X,{state:e.state})),r.a.createElement(Y.b,{exact:!0,path:"/profile/:id"},r.a.createElement(ke,null)),r.a.createElement(Y.b,{exact:!0,path:"/post"},r.a.createElement(G,null)),r.a.createElement(Y.b,{exact:!0,path:"/register"},r.a.createElement(Y.a,{to:"/"})),r.a.createElement(Y.b,{exact:!0,path:"/login"},r.a.createElement(Y.a,{to:"/"})),r.a.createElement(Y.b,{exact:!0,path:"/posts/:id"},r.a.createElement(de,{state:e.state})),r.a.createElement(Y.b,{exact:!0,path:"/posts/:id/responses"}," ",r.a.createElement(be,{state:e.state})),r.a.createElement(Y.b,{exact:!0,path:"/edit-profile"},r.a.createElement(ye,null)),r.a.createElement(Y.b,{exact:!0,path:"/search/:search"},r.a.createElement(he,{state:e.state})),r.a.createElement(Y.b,null,r.a.createElement(le,null))),r.a.createElement("div",{className:"bottom-container"},r.a.createElement("a",{className:"footer-link",href:"https://www.linkedin.com/in/shreshth-verma-17ab39213/"},"LinkedIn"),r.a.createElement("a",{className:"footer-link",href:"https://twitter.com/VermaShreshth"},"Twitter"),r.a.createElement("a",{className:"footer-link",href:"https://www.shreshthverma.me/"},"Website"),r.a.createElement("p",null,"\xa9 2020 Shreshth Verma.")))):localStorage.getItem("token")?r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("div",{style:{marginTop:"15%"}}),r.a.createElement(Z.a,null)):r.a.createElement("div",{className:"App"},e.state.alerts.length>0?e.state.alerts.map((function(e){return console.log(e.msg),r.a.createElement(Q,{message:e.msg,type:e.alertType,key:e.id})})):null,r.a.createElement(N.a,null,r.a.createElement(Y.d,null,r.a.createElement(Y.b,{exact:!0,path:"/",component:oe}),r.a.createElement(Y.b,{exact:!0,path:"/login"}," ",r.a.createElement(j,{setAlert:e.setAlert})),r.a.createElement(Y.b,{exact:!0,path:"/forgot-password"}," ",r.a.createElement(ie,null)),r.a.createElement(Y.b,{exact:!0,path:"/register",component:F}),r.a.createElement(Y.b,{exact:!0,path:"/posts"}," ",r.a.createElement(re,null)),r.a.createElement(Y.b,{exact:!0,path:"/posts/:id"},r.a.createElement(de,{state:e.state})),r.a.createElement(Y.b,{exact:!0,path:"/search/:search"},r.a.createElement(he,{state:e.state})),r.a.createElement(Y.b,{exact:!0,path:"/profile/:id"},r.a.createElement(ke,null)),r.a.createElement(Y.b,{exact:!0,path:"/profile/"},r.a.createElement(Y.a,{to:"/login"})),r.a.createElement(Y.b,{exact:!0,path:"/post"},r.a.createElement(Y.a,{to:"/login"})),r.a.createElement(Y.b,{exact:!0,path:"/reset/:id"},r.a.createElement(je,null)),r.a.createElement(Y.b,null,r.a.createElement(le,null))),r.a.createElement("div",{className:"bottom-container"},r.a.createElement("a",{className:"footer-link",href:"https://www.linkedin.com/"},"LinkedIn"),r.a.createElement("a",{className:"footer-link",href:"https://twitter.com/"},"Twitter"),r.a.createElement("a",{className:"footer-link",href:"https://www.shreshth.me/"},"Website"),r.a.createElement("p",null,"\xa9 2020 Shreshth Verma."))))})),Se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ce(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Le=a(200),Re={user:{},posts:[],search:[],searchResult:[],token:"",alerts:[],isLoaded:!1},Te=a(102),Pe=Object(Te.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return Object.assign({},e,{token:t.payload});case"LOADUSER_SUCCESS":return Object.assign({},e,{user:t.payload,isLoaded:!0});case"SET_ALERT":return Object.assign({},e,{alerts:[].concat(Object(z.a)(e.alerts),[t.payload])});case"REMOVE_ALERT":return Object.assign({},e,{alerts:[e.alerts.filter((function(e){return e.id!==t.payload}))]});case"POST_LOADED":return Object.assign({},e,{posts:[].concat(Object(z.a)(e.posts),[t.payload])});default:return e}}),Object(Te.a)(Le.a));o.a.render(r.a.createElement(h.a,{store:Pe},r.a.createElement(xe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Se?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ce(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ce(t,e)}))}}()}},[[209,1,2]]]);
//# sourceMappingURL=main.a7534c62.chunk.js.map